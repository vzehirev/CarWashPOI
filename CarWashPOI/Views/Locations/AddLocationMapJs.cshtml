<script>
    $(document).ready(initMap);

    function initMap() {
        let map = L.map("map").setView([42.6977, 23.3219], 11);

        L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
            maxZoom: 18,
            id: "mapbox/streets-v11",
            tileSize: 512,
            zoomOffset: -1,
            accessToken: "pk.eyJ1IjoidnplaGlyZXYiLCJhIjoiY2s3NGpvNGJsMDYwcDNmbzNqZXM2enM4MiJ9.XENUDCk7i7evvkHshJjKUg",})
            .addTo(map);

        let marker = L.marker();

        map.on("click", onMapClick);

        function onMapClick(e) {
            marker.setLatLng(e.latlng).addTo(map);
            $("#latitude").val(e.latlng.lat);
            $("#longitude").val(e.latlng.lng);
        }
    }
</script>